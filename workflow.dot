digraph D {
    graph [pad="0.05", nodesep="0.25", ranksep="1", rankdir = LR, fontname="Helvetica"];
    node[shape=rect, fontname="Helvetica"];
    compound=true;
    label="Workflow";
    splines="false";

    subgraph cluster0 {
        label="Genomic data";
        gen [label="Genetic distance"];
        metadata [label="Metadata"];
    }
    
    subgraph cluster1 {
        label="Epidemiology data";
        cases [label="Reported Cases"];
    }

    subgraph cluster_standard {
        label = "Standardize inputs";
        snpdist [label="SNP distances"];
        phytime [label="Time resolved phylogeny"];
    }

    subgraph cluster2 {
        label="Literature";
        serial [label="Serial interval"];
        infectious [label="Infectious period"];
	}

    subgraph cluster3 {
        label = "Benchmark";
        tp [label="TransPhylo"];
        out2 [label="Outbreaker2"];
        tc [label="Outbreaker2"];
    }
    
    compout [label="Compare outputs"];

    subgraph cluster4 {
        label = "Deliverables";
        cli [label="Pipeline"];
        viz [label="Visualization"];
        insights [label="Real world insights"];
    }

    post [label="Post processing\n/additional modelling"];


    dummy1[label="", fixedsize="false", width=0, height=0, shape=none];

    gen -> snpdist [ltail=cluster0,lhead=cluster_standard];
    cases -> snpdist [ltail=cluster1,lhead=cluster_standard];
    infectious -> snpdist [ltail=cluster2,lhead=cluster_standard];

    snpdist -> out2 [ltail=cluster_standard,lhead=cluster3];

    out2 -> compout [ltail=cluster3,lhead=cluster_standardout];
    compout -> post;
    post -> viz [lhead=cluster4];
}